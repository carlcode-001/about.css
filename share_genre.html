<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Share Genre: {{ genre }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='shareartist.css') }}">
</head>
<body class="shareartist">
  {% if message %}
  <div id="notification" class="notification">{{ message }}</div>
{% endif %}
 
 
  <main>
    <h2 class="message3">Songs in this Genre</h2>
    <ul>
      {% for song in songs %}
        <div class="music-item">
          <p> {{ song.title }} by "{{ song.title }}" ({{ song.genre }})</p>
          <audio controls>
            <source src="{{ url_for('static', filename=song.file) }}" type="audio/mpeg">
          </audio>
        </div>
      {% endfor %}
    </ul>
    <h3 class="message3">Share this Genre </h3>
    <form>
      <p class="message3">Copy the URL below to share this genre:</p>
      <input type="text" id="shareURL" class="share-url" value="{{ request.url }}" readonly onclick="this.select();">
      <button class="copy-button" type="button" onclick="copyURL()">Copy URL</button>
     
      <button class="share-friend-button" type="button" onclick="openMiniwindow()">Share with a Friend</button>
      <div class="button-container">

        <a href="{{ url_for('dashboard') }}" class="dashboard-btn">Return to Dashboard</a>
      </p>
    </div>
    </form>
  </main>

  <div id="friendMiniwindow" class="miniwindow">
    <div class="miniwindow-content"> 
      <span class="close" onclick="closeMiniwindow()">&times;</span> 
      <h2>Share with a Friend</h2>
      <input type="text" id="friendInput" placeholder="Enter friend's username">
      <button type="button" onclick="submitFriend()">Share</button>
      <p id="miniwindowError" class="error-message"></p> 
    </div>
  </div>
  <script src="{{ url_for('static', filename='hehe.js') }}"></script>
  
</body>
</html>
